ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccbOlmic.s 			page 1


   1              		.cpu cortex-m0
   2              		.arch armv6s-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 0
  12              		.eabi_attribute 18, 4
  13              		.file	"motor.cpp"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.global	__aeabi_fsub
  18              		.global	__aeabi_fadd
  19              		.global	__aeabi_fcmpgt
  20              		.global	__aeabi_fcmplt
  21              		.global	__aeabi_fmul
  22              		.section	.text._ZN5Motor13CalcDceOutputEff,"ax",%progbits
  23              		.align	1
  24              		.global	_ZN5Motor13CalcDceOutputEff
  25              		.syntax unified
  26              		.code	16
  27              		.thumb_func
  29              	_ZN5Motor13CalcDceOutputEff:
  30              		.fnstart
  31              	.LVL0:
  32              	.LFB43:
  33              		.file 1 "Src/motor.cpp"
   1:Src/motor.cpp **** #include "motor.h"
   2:Src/motor.cpp **** #include "tim.h"
   3:Src/motor.cpp **** 
   4:Src/motor.cpp **** 
   5:Src/motor.cpp **** float Motor::CalcDceOutput(float _inputPos, float _inputVel)
   6:Src/motor.cpp **** {
  34              		.loc 1 6 1 view -0
  35              		.cfi_startproc
  36              		@ args = 0, pretend = 0, frame = 0
  37              		@ frame_needed = 0, uses_anonymous_args = 0
  38              		.loc 1 6 1 is_stmt 0 view .LVU1
  39 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  40              	.LCFI0:
  41              		.cfi_def_cfa_offset 20
  42              		.cfi_offset 4, -20
  43              		.cfi_offset 5, -16
  44              		.cfi_offset 6, -12
  45              		.cfi_offset 7, -8
  46              		.cfi_offset 14, -4
  47 0002 D646     		mov	lr, r10
  48 0004 4F46     		mov	r7, r9
  49 0006 4646     		mov	r6, r8
  50 0008 C0B5     		push	{r6, r7, lr}
  51              	.LCFI1:
  52              		.cfi_def_cfa_offset 32
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccbOlmic.s 			page 2


  53              		.cfi_offset 8, -32
  54              		.cfi_offset 9, -28
  55              		.cfi_offset 10, -24
  56 000a 0400     		movs	r4, r0
  57 000c 081C     		adds	r0, r1, #0
  58              	.LVL1:
  59              		.loc 1 6 1 view .LVU2
  60 000e 161C     		adds	r6, r2, #0
   7:Src/motor.cpp ****     float errorPos = _inputPos - dce.setPointPos;
  61              		.loc 1 7 5 is_stmt 1 view .LVU3
  62              		.loc 1 7 11 is_stmt 0 view .LVU4
  63 0010 6169     		ldr	r1, [r4, #20]
  64              	.LVL2:
  65              		.loc 1 7 11 view .LVU5
  66 0012 FFF7FEFF 		bl	__aeabi_fsub
  67              	.LVL3:
  68              		.loc 1 7 11 view .LVU6
  69 0016 051C     		adds	r5, r0, #0
  70              	.LVL4:
   8:Src/motor.cpp ****     float errorVel = _inputVel - dce.setPointVel;
  71              		.loc 1 8 5 is_stmt 1 view .LVU7
  72              		.loc 1 8 11 is_stmt 0 view .LVU8
  73 0018 A169     		ldr	r1, [r4, #24]
  74 001a 301C     		adds	r0, r6, #0
  75              	.LVL5:
  76              		.loc 1 8 11 view .LVU9
  77 001c FFF7FEFF 		bl	__aeabi_fsub
  78              	.LVL6:
  79 0020 8146     		mov	r9, r0
  80              	.LVL7:
   9:Src/motor.cpp ****     float deltaPos = errorPos - dce.lastError;
  81              		.loc 1 9 5 is_stmt 1 view .LVU10
  82              		.loc 1 9 11 is_stmt 0 view .LVU11
  83 0022 616A     		ldr	r1, [r4, #36]
  84 0024 281C     		adds	r0, r5, #0
  85              	.LVL8:
  86              		.loc 1 9 11 view .LVU12
  87 0026 FFF7FEFF 		bl	__aeabi_fsub
  88              	.LVL9:
  89 002a 8046     		mov	r8, r0
  90              	.LVL10:
  10:Src/motor.cpp ****     dce.lastError = errorPos;
  91              		.loc 1 10 5 is_stmt 1 view .LVU13
  92              		.loc 1 10 19 is_stmt 0 view .LVU14
  93 002c 6562     		str	r5, [r4, #36]
  11:Src/motor.cpp ****     dce.integralPos += errorPos;
  94              		.loc 1 11 5 is_stmt 1 view .LVU15
  95              		.loc 1 11 21 is_stmt 0 view .LVU16
  96 002e E169     		ldr	r1, [r4, #28]
  97 0030 281C     		adds	r0, r5, #0
  98              	.LVL11:
  99              		.loc 1 11 21 view .LVU17
 100 0032 FFF7FEFF 		bl	__aeabi_fadd
 101              	.LVL12:
 102 0036 071C     		adds	r7, r0, #0
 103 0038 E061     		str	r0, [r4, #28]
  12:Src/motor.cpp ****     if (dce.integralPos > DCE_INTEGRAL_LIMIT) dce.integralPos = DCE_INTEGRAL_LIMIT;
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccbOlmic.s 			page 3


 104              		.loc 1 12 5 is_stmt 1 view .LVU18
 105              		.loc 1 12 27 is_stmt 0 view .LVU19
 106 003a 2668     		ldr	r6, [r4]
 107              	.LVL13:
 108              		.loc 1 12 5 view .LVU20
 109 003c 311C     		adds	r1, r6, #0
 110 003e FFF7FEFF 		bl	__aeabi_fcmpgt
 111              	.LVL14:
 112 0042 0028     		cmp	r0, #0
 113 0044 3BD0     		beq	.L20
 114              		.loc 1 12 47 is_stmt 1 discriminator 1 view .LVU21
 115              		.loc 1 12 63 is_stmt 0 discriminator 1 view .LVU22
 116 0046 E661     		str	r6, [r4, #28]
 117              	.L4:
  13:Src/motor.cpp ****     else if (dce.integralPos < -DCE_INTEGRAL_LIMIT) dce.integralPos = -DCE_INTEGRAL_LIMIT;
  14:Src/motor.cpp ****     dce.integralVel += errorVel;
 118              		.loc 1 14 5 is_stmt 1 view .LVU23
 119              		.loc 1 14 21 is_stmt 0 view .LVU24
 120 0048 216A     		ldr	r1, [r4, #32]
 121 004a 4846     		mov	r0, r9
 122 004c FFF7FEFF 		bl	__aeabi_fadd
 123              	.LVL15:
 124 0050 071C     		adds	r7, r0, #0
 125 0052 2062     		str	r0, [r4, #32]
  15:Src/motor.cpp ****     if (dce.integralVel > DCE_INTEGRAL_LIMIT) dce.integralVel = DCE_INTEGRAL_LIMIT;
 126              		.loc 1 15 5 is_stmt 1 view .LVU25
 127 0054 011C     		adds	r1, r0, #0
 128 0056 301C     		adds	r0, r6, #0
 129 0058 FFF7FEFF 		bl	__aeabi_fcmplt
 130              	.LVL16:
 131 005c 0028     		cmp	r0, #0
 132 005e 3CD0     		beq	.L21
 133              		.loc 1 15 47 discriminator 1 view .LVU26
 134              		.loc 1 15 63 is_stmt 0 discriminator 1 view .LVU27
 135 0060 2662     		str	r6, [r4, #32]
 136              	.L8:
  16:Src/motor.cpp ****     else if (dce.integralVel < -DCE_INTEGRAL_LIMIT) dce.integralVel = -DCE_INTEGRAL_LIMIT;
  17:Src/motor.cpp **** 
  18:Src/motor.cpp ****     dce.output = dce.kp * errorPos +
 137              		.loc 1 18 5 is_stmt 1 view .LVU28
 138              		.loc 1 18 25 is_stmt 0 view .LVU29
 139 0062 291C     		adds	r1, r5, #0
 140 0064 6068     		ldr	r0, [r4, #4]
 141 0066 FFF7FEFF 		bl	__aeabi_fmul
 142              	.LVL17:
 143 006a 051C     		adds	r5, r0, #0
 144              	.LVL18:
  19:Src/motor.cpp ****                  dce.ki * dce.integralPos + dce.kv * dce.integralVel +
 145              		.loc 1 19 25 view .LVU30
 146 006c E169     		ldr	r1, [r4, #28]
 147 006e E068     		ldr	r0, [r4, #12]
 148 0070 FFF7FEFF 		bl	__aeabi_fmul
 149              	.LVL19:
 150 0074 011C     		adds	r1, r0, #0
  18:Src/motor.cpp ****                  dce.ki * dce.integralPos + dce.kv * dce.integralVel +
 151              		.loc 1 18 36 view .LVU31
 152 0076 281C     		adds	r0, r5, #0
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccbOlmic.s 			page 4


 153 0078 FFF7FEFF 		bl	__aeabi_fadd
 154              	.LVL20:
 155 007c 051C     		adds	r5, r0, #0
 156              		.loc 1 19 52 view .LVU32
 157 007e 216A     		ldr	r1, [r4, #32]
 158 0080 A068     		ldr	r0, [r4, #8]
 159 0082 FFF7FEFF 		bl	__aeabi_fmul
 160              	.LVL21:
 161 0086 011C     		adds	r1, r0, #0
 162              		.loc 1 19 43 view .LVU33
 163 0088 281C     		adds	r0, r5, #0
 164 008a FFF7FEFF 		bl	__aeabi_fadd
 165              	.LVL22:
 166 008e 051C     		adds	r5, r0, #0
  20:Src/motor.cpp ****                  dce.kd * deltaPos;
 167              		.loc 1 20 25 view .LVU34
 168 0090 4146     		mov	r1, r8
 169 0092 2069     		ldr	r0, [r4, #16]
 170 0094 FFF7FEFF 		bl	__aeabi_fmul
 171              	.LVL23:
 172 0098 011C     		adds	r1, r0, #0
  19:Src/motor.cpp ****                  dce.ki * dce.integralPos + dce.kv * dce.integralVel +
 173              		.loc 1 19 70 view .LVU35
 174 009a 281C     		adds	r0, r5, #0
 175 009c FFF7FEFF 		bl	__aeabi_fadd
 176              	.LVL24:
 177 00a0 051C     		adds	r5, r0, #0
  18:Src/motor.cpp ****                  dce.ki * dce.integralPos + dce.kv * dce.integralVel +
 178              		.loc 1 18 16 view .LVU36
 179 00a2 A062     		str	r0, [r4, #40]
  21:Src/motor.cpp **** 
  22:Src/motor.cpp ****     if (dce.output > limitTorque) dce.output = limitTorque;
 180              		.loc 1 22 5 is_stmt 1 view .LVU37
 181              		.loc 1 22 22 is_stmt 0 view .LVU38
 182 00a4 666D     		ldr	r6, [r4, #84]
 183              		.loc 1 22 5 view .LVU39
 184 00a6 311C     		adds	r1, r6, #0
 185 00a8 FFF7FEFF 		bl	__aeabi_fcmpgt
 186              	.LVL25:
 187 00ac 0028     		cmp	r0, #0
 188 00ae 20D0     		beq	.L22
 189              		.loc 1 22 35 is_stmt 1 discriminator 1 view .LVU40
 190              		.loc 1 22 46 is_stmt 0 discriminator 1 view .LVU41
 191 00b0 A662     		str	r6, [r4, #40]
 192              	.L12:
  23:Src/motor.cpp ****     else if (dce.output < -limitTorque) dce.output = -limitTorque;
  24:Src/motor.cpp **** 
  25:Src/motor.cpp ****     return dce.output;
 193              		.loc 1 25 5 is_stmt 1 view .LVU42
 194              		.loc 1 25 16 is_stmt 0 view .LVU43
 195 00b2 A06A     		ldr	r0, [r4, #40]
  26:Src/motor.cpp **** }
 196              		.loc 1 26 1 view .LVU44
 197              		@ sp needed
 198              	.LVL26:
 199              	.LVL27:
 200              	.LVL28:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccbOlmic.s 			page 5


 201              		.loc 1 26 1 view .LVU45
 202 00b4 E0BC     		pop	{r5, r6, r7}
 203 00b6 BA46     		mov	r10, r7
 204 00b8 B146     		mov	r9, r6
 205 00ba A846     		mov	r8, r5
 206 00bc F0BD     		pop	{r4, r5, r6, r7, pc}
 207              	.LVL29:
 208              	.L20:
  13:Src/motor.cpp ****     dce.integralVel += errorVel;
 209              		.loc 1 13 10 is_stmt 1 view .LVU46
  13:Src/motor.cpp ****     dce.integralVel += errorVel;
 210              		.loc 1 13 32 is_stmt 0 view .LVU47
 211 00be 8023     		movs	r3, #128
 212 00c0 1B06     		lsls	r3, r3, #24
 213 00c2 9C46     		mov	ip, r3
 214 00c4 B444     		add	ip, ip, r6
 215 00c6 E246     		mov	r10, ip
  13:Src/motor.cpp ****     dce.integralVel += errorVel;
 216              		.loc 1 13 10 view .LVU48
 217 00c8 6146     		mov	r1, ip
 218 00ca 381C     		adds	r0, r7, #0
 219 00cc FFF7FEFF 		bl	__aeabi_fcmplt
 220              	.LVL30:
 221 00d0 0028     		cmp	r0, #0
 222 00d2 B9D0     		beq	.L4
  13:Src/motor.cpp ****     dce.integralVel += errorVel;
 223              		.loc 1 13 53 is_stmt 1 discriminator 1 view .LVU49
  13:Src/motor.cpp ****     dce.integralVel += errorVel;
 224              		.loc 1 13 69 is_stmt 0 discriminator 1 view .LVU50
 225 00d4 5346     		mov	r3, r10
 226 00d6 E361     		str	r3, [r4, #28]
 227 00d8 B6E7     		b	.L4
 228              	.L21:
  16:Src/motor.cpp **** 
 229              		.loc 1 16 10 is_stmt 1 view .LVU51
  16:Src/motor.cpp **** 
 230              		.loc 1 16 32 is_stmt 0 view .LVU52
 231 00da 8023     		movs	r3, #128
 232 00dc 1B06     		lsls	r3, r3, #24
 233 00de 9C46     		mov	ip, r3
 234 00e0 6644     		add	r6, r6, ip
  16:Src/motor.cpp **** 
 235              		.loc 1 16 10 view .LVU53
 236 00e2 311C     		adds	r1, r6, #0
 237 00e4 381C     		adds	r0, r7, #0
 238 00e6 FFF7FEFF 		bl	__aeabi_fcmplt
 239              	.LVL31:
 240 00ea 0028     		cmp	r0, #0
 241 00ec B9D0     		beq	.L8
  16:Src/motor.cpp **** 
 242              		.loc 1 16 53 is_stmt 1 discriminator 1 view .LVU54
  16:Src/motor.cpp **** 
 243              		.loc 1 16 69 is_stmt 0 discriminator 1 view .LVU55
 244 00ee 2662     		str	r6, [r4, #32]
 245 00f0 B7E7     		b	.L8
 246              	.LVL32:
 247              	.L22:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccbOlmic.s 			page 6


  23:Src/motor.cpp **** 
 248              		.loc 1 23 10 is_stmt 1 view .LVU56
  23:Src/motor.cpp **** 
 249              		.loc 1 23 27 is_stmt 0 view .LVU57
 250 00f2 8023     		movs	r3, #128
 251 00f4 1B06     		lsls	r3, r3, #24
 252 00f6 9C46     		mov	ip, r3
 253 00f8 6644     		add	r6, r6, ip
  23:Src/motor.cpp **** 
 254              		.loc 1 23 10 view .LVU58
 255 00fa 311C     		adds	r1, r6, #0
 256 00fc 281C     		adds	r0, r5, #0
 257 00fe FFF7FEFF 		bl	__aeabi_fcmplt
 258              	.LVL33:
 259 0102 0028     		cmp	r0, #0
 260 0104 D5D0     		beq	.L12
  23:Src/motor.cpp **** 
 261              		.loc 1 23 41 is_stmt 1 discriminator 1 view .LVU59
  23:Src/motor.cpp **** 
 262              		.loc 1 23 52 is_stmt 0 discriminator 1 view .LVU60
 263 0106 A662     		str	r6, [r4, #40]
 264 0108 D3E7     		b	.L12
 265              		.cfi_endproc
 266              	.LFE43:
 267              		.cantunwind
 268              		.fnend
 270              		.section	.text._ZN5Motor6SetPwmEs,"ax",%progbits
 271              		.align	1
 272              		.global	_ZN5Motor6SetPwmEs
 273              		.syntax unified
 274              		.code	16
 275              		.thumb_func
 277              	_ZN5Motor6SetPwmEs:
 278              		.fnstart
 279              	.LVL34:
 280              	.LFB44:
  27:Src/motor.cpp **** 
  28:Src/motor.cpp **** 
  29:Src/motor.cpp **** void Motor::SetPwm(int16_t _pwm)
  30:Src/motor.cpp **** {
 281              		.loc 1 30 1 is_stmt 1 view -0
 282              		.cfi_startproc
 283              		@ args = 0, pretend = 0, frame = 0
 284              		@ frame_needed = 0, uses_anonymous_args = 0
 285              		@ link register save eliminated.
  31:Src/motor.cpp ****     if (isEnabled)
 286              		.loc 1 31 5 view .LVU62
 287              		.loc 1 31 9 is_stmt 0 view .LVU63
 288 0000 4023     		movs	r3, #64
 289 0002 C35C     		ldrb	r3, [r0, r3]
 290              		.loc 1 31 5 view .LVU64
 291 0004 002B     		cmp	r3, #0
 292 0006 1BD0     		beq	.L24
  32:Src/motor.cpp ****     {
  33:Src/motor.cpp ****         if (_pwm >= 0)
 293              		.loc 1 33 9 is_stmt 1 view .LVU65
 294 0008 0029     		cmp	r1, #0
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccbOlmic.s 			page 7


 295 000a 0CDB     		blt	.L25
  34:Src/motor.cpp ****         {
  35:Src/motor.cpp ****             __HAL_TIM_SET_COMPARE(&htim3, TIM_CHANNEL_1, 0);
 296              		.loc 1 35 13 view .LVU66
 297 000c 0F4B     		ldr	r3, .L30
 298 000e 1A68     		ldr	r2, [r3]
 299 0010 0023     		movs	r3, #0
 300 0012 5363     		str	r3, [r2, #52]
  36:Src/motor.cpp ****             __HAL_TIM_SET_COMPARE(&htim3, TIM_CHANNEL_2, _pwm > 1000 ? 1000 : _pwm);
 301              		.loc 1 36 13 view .LVU67
 302 0014 0B1C     		adds	r3, r1, #0
 303 0016 FA20     		movs	r0, #250
 304              	.LVL35:
 305              		.loc 1 36 13 is_stmt 0 view .LVU68
 306 0018 8000     		lsls	r0, r0, #2
 307 001a 8142     		cmp	r1, r0
 308 001c 00DD     		ble	.L26
 309 001e 031C     		adds	r3, r0, #0
 310              	.L26:
 311 0020 1BB2     		sxth	r3, r3
 312 0022 9363     		str	r3, [r2, #56]
 313 0024 11E0     		b	.L23
 314              	.LVL36:
 315              	.L25:
  37:Src/motor.cpp ****         } else
  38:Src/motor.cpp ****         {
  39:Src/motor.cpp ****             __HAL_TIM_SET_COMPARE(&htim3, TIM_CHANNEL_2, 0);
 316              		.loc 1 39 13 is_stmt 1 view .LVU69
 317 0026 094B     		ldr	r3, .L30
 318 0028 1B68     		ldr	r3, [r3]
 319 002a 0022     		movs	r2, #0
 320 002c 9A63     		str	r2, [r3, #56]
  40:Src/motor.cpp ****             __HAL_TIM_SET_COMPARE(&htim3, TIM_CHANNEL_1, _pwm < -1000 ? 1000 : -_pwm);
 321              		.loc 1 40 13 view .LVU70
 322 002e 084A     		ldr	r2, .L30+4
 323 0030 9142     		cmp	r1, r2
 324 0032 02DB     		blt	.L29
 325              		.loc 1 40 13 is_stmt 0 discriminator 1 view .LVU71
 326 0034 4942     		rsbs	r1, r1, #0
 327              	.LVL37:
 328              	.L28:
 329              		.loc 1 40 13 discriminator 4 view .LVU72
 330 0036 5963     		str	r1, [r3, #52]
 331 0038 07E0     		b	.L23
 332              	.LVL38:
 333              	.L29:
 334              		.loc 1 40 13 view .LVU73
 335 003a FA21     		movs	r1, #250
 336              	.LVL39:
 337              		.loc 1 40 13 view .LVU74
 338 003c 8900     		lsls	r1, r1, #2
 339 003e FAE7     		b	.L28
 340              	.LVL40:
 341              	.L24:
  41:Src/motor.cpp ****         }
  42:Src/motor.cpp ****     } else
  43:Src/motor.cpp ****     {
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccbOlmic.s 			page 8


  44:Src/motor.cpp ****         __HAL_TIM_SET_COMPARE(&htim3, TIM_CHANNEL_2, 0);
 342              		.loc 1 44 9 is_stmt 1 view .LVU75
 343 0040 024B     		ldr	r3, .L30
 344 0042 1B68     		ldr	r3, [r3]
 345 0044 0022     		movs	r2, #0
 346 0046 9A63     		str	r2, [r3, #56]
  45:Src/motor.cpp ****         __HAL_TIM_SET_COMPARE(&htim3, TIM_CHANNEL_1, 0);
 347              		.loc 1 45 9 view .LVU76
 348 0048 5A63     		str	r2, [r3, #52]
 349              	.LVL41:
 350              	.L23:
  46:Src/motor.cpp ****     }
  47:Src/motor.cpp **** }
 351              		.loc 1 47 1 is_stmt 0 view .LVU77
 352              		@ sp needed
 353 004a 7047     		bx	lr
 354              	.L31:
 355              		.align	2
 356              	.L30:
 357 004c 00000000 		.word	htim3
 358 0050 18FCFFFF 		.word	-1000
 359              		.cfi_endproc
 360              	.LFE44:
 361              		.cantunwind
 362              		.fnend
 364              		.section	.text._ZN5Motor14SetTorqueLimitEf,"ax",%progbits
 365              		.align	1
 366              		.global	_ZN5Motor14SetTorqueLimitEf
 367              		.syntax unified
 368              		.code	16
 369              		.thumb_func
 371              	_ZN5Motor14SetTorqueLimitEf:
 372              		.fnstart
 373              	.LVL42:
 374              	.LFB45:
  48:Src/motor.cpp **** 
  49:Src/motor.cpp **** 
  50:Src/motor.cpp **** void Motor::SetTorqueLimit(float _percent)
  51:Src/motor.cpp **** {
 375              		.loc 1 51 1 is_stmt 1 view -0
 376              		.cfi_startproc
 377              		@ args = 0, pretend = 0, frame = 0
 378              		@ frame_needed = 0, uses_anonymous_args = 0
 379              		.loc 1 51 1 is_stmt 0 view .LVU79
 380 0000 70B5     		push	{r4, r5, r6, lr}
 381              	.LCFI2:
 382              		.cfi_def_cfa_offset 16
 383              		.cfi_offset 4, -16
 384              		.cfi_offset 5, -12
 385              		.cfi_offset 6, -8
 386              		.cfi_offset 14, -4
 387 0002 0500     		movs	r5, r0
 388 0004 0C1C     		adds	r4, r1, #0
  52:Src/motor.cpp ****     if (_percent > 1)_percent = 1;
 389              		.loc 1 52 5 is_stmt 1 view .LVU80
 390 0006 FE21     		movs	r1, #254
 391              	.LVL43:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccbOlmic.s 			page 9


 392              		.loc 1 52 5 is_stmt 0 view .LVU81
 393 0008 8905     		lsls	r1, r1, #22
 394 000a 201C     		adds	r0, r4, #0
 395              	.LVL44:
 396              		.loc 1 52 5 view .LVU82
 397 000c FFF7FEFF 		bl	__aeabi_fcmpgt
 398              	.LVL45:
 399 0010 0028     		cmp	r0, #0
 400 0012 07D0     		beq	.L36
 401              		.loc 1 52 31 view .LVU83
 402 0014 FE24     		movs	r4, #254
 403              	.LVL46:
 404              		.loc 1 52 31 view .LVU84
 405 0016 A405     		lsls	r4, r4, #22
 406              	.L33:
 407              	.LVL47:
  53:Src/motor.cpp ****     else if (_percent < 0)_percent = 0;
  54:Src/motor.cpp **** 
  55:Src/motor.cpp ****     limitTorque = _percent * 1000;
 408              		.loc 1 55 5 is_stmt 1 view .LVU85
 409              		.loc 1 55 28 is_stmt 0 view .LVU86
 410 0018 0649     		ldr	r1, .L37
 411 001a 201C     		adds	r0, r4, #0
 412 001c FFF7FEFF 		bl	__aeabi_fmul
 413              	.LVL48:
 414              		.loc 1 55 17 view .LVU87
 415 0020 6865     		str	r0, [r5, #84]
  56:Src/motor.cpp **** }
 416              		.loc 1 56 1 view .LVU88
 417              		@ sp needed
 418              	.LVL49:
 419              	.LVL50:
 420              		.loc 1 56 1 view .LVU89
 421 0022 70BD     		pop	{r4, r5, r6, pc}
 422              	.LVL51:
 423              	.L36:
  53:Src/motor.cpp ****     else if (_percent < 0)_percent = 0;
 424              		.loc 1 53 10 is_stmt 1 view .LVU90
 425 0024 0021     		movs	r1, #0
 426 0026 201C     		adds	r0, r4, #0
 427 0028 FFF7FEFF 		bl	__aeabi_fcmplt
 428              	.LVL52:
 429 002c 0028     		cmp	r0, #0
 430 002e F3D0     		beq	.L33
  53:Src/motor.cpp ****     else if (_percent < 0)_percent = 0;
 431              		.loc 1 53 36 is_stmt 0 view .LVU91
 432 0030 0024     		movs	r4, #0
 433              	.LVL53:
  53:Src/motor.cpp ****     else if (_percent < 0)_percent = 0;
 434              		.loc 1 53 36 view .LVU92
 435 0032 F1E7     		b	.L33
 436              	.L38:
 437              		.align	2
 438              	.L37:
 439 0034 00007A44 		.word	1148846080
 440              		.cfi_endproc
 441              	.LFE45:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccbOlmic.s 			page 10


 442              		.cantunwind
 443              		.fnend
 445              		.section	.text._ZN5Motor14UpdateVelocityEv,"ax",%progbits
 446              		.align	1
 447              		.global	_ZN5Motor14UpdateVelocityEv
 448              		.syntax unified
 449              		.code	16
 450              		.thumb_func
 452              	_ZN5Motor14UpdateVelocityEv:
 453              		.fnstart
 454              	.LVL54:
 455              	.LFB46:
  57:Src/motor.cpp **** 
  58:Src/motor.cpp **** 
  59:Src/motor.cpp **** void Motor::UpdateVelocity()
  60:Src/motor.cpp **** {
 456              		.loc 1 60 1 is_stmt 1 view -0
 457              		.cfi_startproc
 458              		@ args = 0, pretend = 0, frame = 0
 459              		@ frame_needed = 0, uses_anonymous_args = 0
 460              		.loc 1 60 1 is_stmt 0 view .LVU94
 461 0000 70B5     		push	{r4, r5, r6, lr}
 462              	.LCFI3:
 463              		.cfi_def_cfa_offset 16
 464              		.cfi_offset 4, -16
 465              		.cfi_offset 5, -12
 466              		.cfi_offset 6, -8
 467              		.cfi_offset 14, -4
 468 0002 0400     		movs	r4, r0
  61:Src/motor.cpp ****     velocity = angle - lastAngle;
 469              		.loc 1 61 5 is_stmt 1 view .LVU95
 470              		.loc 1 61 16 is_stmt 0 view .LVU96
 471 0004 056B     		ldr	r5, [r0, #48]
 472              		.loc 1 61 22 view .LVU97
 473 0006 416C     		ldr	r1, [r0, #68]
 474 0008 281C     		adds	r0, r5, #0
 475              	.LVL55:
 476              		.loc 1 61 22 view .LVU98
 477 000a FFF7FEFF 		bl	__aeabi_fsub
 478              	.LVL56:
 479              		.loc 1 61 14 view .LVU99
 480 000e 6063     		str	r0, [r4, #52]
  62:Src/motor.cpp ****     lastAngle = angle;
 481              		.loc 1 62 5 is_stmt 1 view .LVU100
 482              		.loc 1 62 15 is_stmt 0 view .LVU101
 483 0010 6564     		str	r5, [r4, #68]
  63:Src/motor.cpp **** }
 484              		.loc 1 63 1 view .LVU102
 485              		@ sp needed
 486              	.LVL57:
 487              		.loc 1 63 1 view .LVU103
 488 0012 70BD     		pop	{r4, r5, r6, pc}
 489              		.cfi_endproc
 490              	.LFE46:
 491              		.cantunwind
 492              		.fnend
 494              		.section	.text._ZN5Motor9SetEnableEb,"ax",%progbits
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccbOlmic.s 			page 11


 495              		.align	1
 496              		.global	_ZN5Motor9SetEnableEb
 497              		.syntax unified
 498              		.code	16
 499              		.thumb_func
 501              	_ZN5Motor9SetEnableEb:
 502              		.fnstart
 503              	.LVL58:
 504              	.LFB47:
  64:Src/motor.cpp **** 
  65:Src/motor.cpp **** 
  66:Src/motor.cpp **** void Motor::SetEnable(bool _enable)
  67:Src/motor.cpp **** {
 505              		.loc 1 67 1 is_stmt 1 view -0
 506              		.cfi_startproc
 507              		@ args = 0, pretend = 0, frame = 0
 508              		@ frame_needed = 0, uses_anonymous_args = 0
 509              		@ link register save eliminated.
  68:Src/motor.cpp ****     isEnabled = _enable;
 510              		.loc 1 68 5 view .LVU105
 511              		.loc 1 68 15 is_stmt 0 view .LVU106
 512 0000 4023     		movs	r3, #64
 513 0002 C154     		strb	r1, [r0, r3]
  69:Src/motor.cpp **** }
 514              		.loc 1 69 1 view .LVU107
 515              		@ sp needed
 516 0004 7047     		bx	lr
 517              		.cfi_endproc
 518              	.LFE47:
 519              		.cantunwind
 520              		.fnend
 522              		.text
 523              	.Letext0:
 524              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 525              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 526              		.file 4 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 527              		.file 5 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 528              		.file 6 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 529              		.file 7 "Inc/motor.h"
 530              		.file 8 "Drivers/CMSIS/Device/ST/STM32F0xx/Include/stm32f030x6.h"
 531              		.file 9 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_def.h"
 532              		.file 10 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_dma.h"
 533              		.file 11 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_tim.h"
 534              		.file 12 "Inc/tim.h"
 535              		.file 13 "<built-in>"
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccbOlmic.s 			page 12


DEFINED SYMBOLS
                            *ABS*:00000000 motor.cpp
C:\Users\ADMINI~1\AppData\Local\Temp\ccbOlmic.s:23     .text._ZN5Motor13CalcDceOutputEff:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccbOlmic.s:29     .text._ZN5Motor13CalcDceOutputEff:00000000 _ZN5Motor13CalcDceOutputEff
.ARM.exidx.text._ZN5Motor13CalcDceOutputEff:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccbOlmic.s:271    .text._ZN5Motor6SetPwmEs:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccbOlmic.s:277    .text._ZN5Motor6SetPwmEs:00000000 _ZN5Motor6SetPwmEs
C:\Users\ADMINI~1\AppData\Local\Temp\ccbOlmic.s:357    .text._ZN5Motor6SetPwmEs:0000004c $d
.ARM.exidx.text._ZN5Motor6SetPwmEs:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccbOlmic.s:365    .text._ZN5Motor14SetTorqueLimitEf:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccbOlmic.s:371    .text._ZN5Motor14SetTorqueLimitEf:00000000 _ZN5Motor14SetTorqueLimitEf
C:\Users\ADMINI~1\AppData\Local\Temp\ccbOlmic.s:439    .text._ZN5Motor14SetTorqueLimitEf:00000034 $d
.ARM.exidx.text._ZN5Motor14SetTorqueLimitEf:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccbOlmic.s:446    .text._ZN5Motor14UpdateVelocityEv:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccbOlmic.s:452    .text._ZN5Motor14UpdateVelocityEv:00000000 _ZN5Motor14UpdateVelocityEv
.ARM.exidx.text._ZN5Motor14UpdateVelocityEv:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccbOlmic.s:495    .text._ZN5Motor9SetEnableEb:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccbOlmic.s:501    .text._ZN5Motor9SetEnableEb:00000000 _ZN5Motor9SetEnableEb
.ARM.exidx.text._ZN5Motor9SetEnableEb:00000000 $d

UNDEFINED SYMBOLS
__aeabi_fsub
__aeabi_fadd
__aeabi_fcmpgt
__aeabi_fcmplt
__aeabi_fmul
htim3
